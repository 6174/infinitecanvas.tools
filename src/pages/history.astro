---
import Layout from "../layouts/Layout.astro"
import dots from "/images/backgrounds/timeline_dot_vertical.svg"
import Date from "../components/history/Date.astro"

const historyItems = await Astro.glob("../content/history/*.md")
---

<Layout title="Infinite Canvas" activeItem="/history">
  <!-- header slot-->
  <header slot="header" class="space-y-8 text-center pb-168 pt-72">
    <h1 class="text-black sans-48">History</h1>
    <p class="serif-24 text-brown">Some tagline about history</p>
  </header>

  <!-- default slot -->
  <ul class="relative grid grid-cols-1 gap-48 p-32 mx-auto max-w-1440">
    <div
      class="absolute top-0 bottom-0 z-0 w-4 left-[70px]"
      style={`background-image: url("${dots}")`}
    >
    </div>
    <div
      class="absolute top-0 z-0 w-4 h-96 left-[70px] bg-gradient-to-b from-parchment"
    >
    </div>
    <div
      class="absolute bottom-0 z-0 w-4 h-96 left-[70px] bg-gradient-to-t from-parchment"
    >
    </div>
    {
      historyItems.map(({ frontmatter: { title, year, image }, Content }) => (
        <li class="z-10 flex items-center">
          <Date date={year} />
          <div class="w-0 h-0 ml-4 border-r-16 border-r-brown/5 border-t-16 border-b-16 border-t-transparent border-b-transparent" />
          <div class="p-32 bg-brown bg-opacity-5 rounded-4 grid grid-cols-3 gap-48">
            <div class="col-span-2">
              <h2 class="mb-16 sans-30 text-gray">{title}</h2>
              <div class="text-brown serif-20 text-opacity-80">
                <Content />
              </div>
            </div>
            <img
              src={`/images/history/${image}`}
              alt={`Screenshot of ${title} from ${year}`}
            />
          </div>
        </li>
      ))
    }
  </ul>
</Layout>
